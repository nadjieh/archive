{
//=========Macro generated from canvas: c1/c1
//=========  (Mon Nov 11 16:15:32 2013) by ROOT version5.32/00
   TCanvas *c1 = new TCanvas("c1", "c1",504,130,700,502);
   c1->Range(-1.25,-1250,1.25,11250);
   c1->SetFillColor(0);
   c1->SetBorderMode(0);
   c1->SetBorderSize(2);
   c1->SetFrameBorderMode(0);
   c1->SetFrameBorderMode(0);
   
   TH1D *forBand = new TH1D("forBand","e_Chi2Stat_correlated_res3D",10,-1,1);
   forBand->SetBinContent(1,4622.838);
   forBand->SetBinContent(2,4813.413);
   forBand->SetBinContent(3,5405.548);
   forBand->SetBinContent(4,5591.582);
   forBand->SetBinContent(5,5564.962);
   forBand->SetBinContent(6,5507.369);
   forBand->SetBinContent(7,5355.156);
   forBand->SetBinContent(8,5367.221);
   forBand->SetBinContent(9,5554.739);
   forBand->SetBinContent(10,6740.641);
   forBand->SetBinError(1,30.79279);
   forBand->SetBinError(2,25.21032);
   forBand->SetBinError(3,13.52474);
   forBand->SetBinError(4,41.03819);
   forBand->SetBinError(5,62.05693);
   forBand->SetBinError(6,65.60109);
   forBand->SetBinError(7,57.99518);
   forBand->SetBinError(8,41.167);
   forBand->SetBinError(9,17.54099);
   forBand->SetBinError(10,20.46696);
   forBand->SetMinimum(0);
   forBand->SetMaximum(10000);
   forBand->SetEntries(885099);
   
   TPaveStats *ptstats = new TPaveStats(0.78,0.775,0.98,0.935,"brNDC");
   ptstats->SetName("stats");
   ptstats->SetBorderSize(1);
   ptstats->SetFillColor(0);
   ptstats->SetTextAlign(12);
   ptstats->SetTextFont(42);
   TText *text = ptstats->AddText("forBand");
   text->SetTextSize(0.0368);
   text = ptstats->AddText("Entries = 885099 ");
   text = ptstats->AddText("Mean  = 0.04288");
   text = ptstats->AddText("RMS   = 0.5776");
   ptstats->SetOptStat(1111);
   ptstats->SetOptFit(0);
   ptstats->Draw();
   forBand->GetListOfFunctions()->Add(ptstats);
   ptstats->SetParent(forBand);
   forBand->SetFillColor(5);
   forBand->SetLineColor(5);
   forBand->SetMarkerColor(2);
   forBand->SetMarkerStyle(21);
   forBand->GetXaxis()->SetLabelFont(42);
   forBand->GetXaxis()->SetLabelSize(0.035);
   forBand->GetXaxis()->SetTitleSize(0.035);
   forBand->GetXaxis()->SetTitleFont(42);
   forBand->GetYaxis()->SetLabelFont(42);
   forBand->GetYaxis()->SetLabelSize(0.035);
   forBand->GetYaxis()->SetTitleSize(0.035);
   forBand->GetYaxis()->SetTitleFont(42);
   forBand->GetZaxis()->SetLabelFont(42);
   forBand->GetZaxis()->SetLabelSize(0.035);
   forBand->GetZaxis()->SetTitleSize(0.035);
   forBand->GetZaxis()->SetTitleFont(42);
   forBand->Draw("E2");
   
   TPaveText *pt = new TPaveText(0.2507759,0.9367722,0.7492241,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetTextFont(42);
   text = pt->AddText("e_Chi2Stat_correlated_res3D");
   pt->Draw();
   
   TH1D *Default_allWcosTheta = new TH1D("Default_allWcosTheta","test_qcdfree2.root",10,-1,1);
   Default_allWcosTheta->SetBinContent(1,4636.05);
   Default_allWcosTheta->SetBinContent(2,4743.446);
   Default_allWcosTheta->SetBinContent(3,5309.628);
   Default_allWcosTheta->SetBinContent(4,5474.01);
   Default_allWcosTheta->SetBinContent(5,5494.181);
   Default_allWcosTheta->SetBinContent(6,5479.448);
   Default_allWcosTheta->SetBinContent(7,5421.645);
   Default_allWcosTheta->SetBinContent(8,5449.263);
   Default_allWcosTheta->SetBinContent(9,5678.865);
   Default_allWcosTheta->SetBinContent(10,6867.333);
   Default_allWcosTheta->SetBinError(1,431.5094);
   Default_allWcosTheta->SetBinError(2,321.7219);
   Default_allWcosTheta->SetBinError(3,402.248);
   Default_allWcosTheta->SetBinError(4,374.0369);
   Default_allWcosTheta->SetBinError(5,441.3282);
   Default_allWcosTheta->SetBinError(6,606.5249);
   Default_allWcosTheta->SetBinError(7,802.9832);
   Default_allWcosTheta->SetBinError(8,1068.438);
   Default_allWcosTheta->SetBinError(9,1538.927);
   Default_allWcosTheta->SetBinError(10,2622.593);
   Default_allWcosTheta->SetEntries(10);
   
   ptstats = new TPaveStats(0.78,0.775,0.98,0.935,"brNDC");
   ptstats->SetName("stats");
   ptstats->SetBorderSize(1);
   ptstats->SetFillColor(0);
   ptstats->SetTextAlign(12);
   ptstats->SetTextFont(42);
   text = ptstats->AddText("Default_allWcosTheta");
   text->SetTextSize(0.0368);
   text = ptstats->AddText("Entries = 10     ");
   text = ptstats->AddText("Mean  = 0.04978");
   text = ptstats->AddText("RMS   = 0.5755");
   ptstats->SetOptStat(1111);
   ptstats->SetOptFit(0);
   ptstats->Draw();
   Default_allWcosTheta->GetListOfFunctions()->Add(ptstats);
   ptstats->SetParent(Default_allWcosTheta);
   Default_allWcosTheta->SetFillColor(2);
   Default_allWcosTheta->SetFillStyle(3004);
   Default_allWcosTheta->SetLineColor(2);
   Default_allWcosTheta->SetMarkerStyle(20);
   Default_allWcosTheta->GetXaxis()->SetLabelFont(42);
   Default_allWcosTheta->GetXaxis()->SetLabelSize(0.035);
   Default_allWcosTheta->GetXaxis()->SetTitleSize(0.035);
   Default_allWcosTheta->GetXaxis()->SetTitleFont(42);
   Default_allWcosTheta->GetYaxis()->SetLabelFont(42);
   Default_allWcosTheta->GetYaxis()->SetLabelSize(0.035);
   Default_allWcosTheta->GetYaxis()->SetTitleSize(0.035);
   Default_allWcosTheta->GetYaxis()->SetTitleFont(42);
   Default_allWcosTheta->GetZaxis()->SetLabelFont(42);
   Default_allWcosTheta->GetZaxis()->SetLabelSize(0.035);
   Default_allWcosTheta->GetZaxis()->SetTitleSize(0.035);
   Default_allWcosTheta->GetZaxis()->SetTitleFont(42);
   Default_allWcosTheta->Draw("E2SAME");
   
   TH1D *data = new TH1D("data","Default_allW: cos(#theta)",10,-1,1);
   data->SetBinContent(1,4838);
   data->SetBinContent(2,4700);
   data->SetBinContent(3,5304);
   data->SetBinContent(4,5592);
   data->SetBinContent(5,5578);
   data->SetBinContent(6,5498);
   data->SetBinContent(7,5450);
   data->SetBinContent(8,5301);
   data->SetBinContent(9,5677);
   data->SetBinContent(10,6604);
   data->SetEntries(54542);
   
   ptstats = new TPaveStats(0.78,0.775,0.98,0.935,"brNDC");
   ptstats->SetName("stats");
   ptstats->SetBorderSize(1);
   ptstats->SetFillColor(0);
   ptstats->SetTextAlign(12);
   ptstats->SetTextFont(42);
   text = ptstats->AddText("data");
   text->SetTextSize(0.0368);
   text = ptstats->AddText("Entries = 54542  ");
   text = ptstats->AddText("Mean  = 0.04113");
   text = ptstats->AddText("RMS   = 0.5799");
   ptstats->SetOptStat(1111);
   ptstats->SetOptFit(0);
   ptstats->Draw();
   data->GetListOfFunctions()->Add(ptstats);
   ptstats->SetParent(data);

   Int_t ci;   // for color index setting
   ci = TColor::GetColor("#000099");
   data->SetLineColor(ci);
   data->SetMarkerColor(3);
   data->SetMarkerStyle(22);
   data->GetXaxis()->SetTitle("cos(#theta*)");
   data->GetXaxis()->SetLabelFont(42);
   data->GetXaxis()->SetLabelSize(0.035);
   data->GetXaxis()->SetTitleSize(0.035);
   data->GetXaxis()->SetTitleFont(42);
   data->GetYaxis()->SetLabelFont(42);
   data->GetYaxis()->SetLabelSize(0.035);
   data->GetYaxis()->SetTitleSize(0.035);
   data->GetYaxis()->SetTitleFont(42);
   data->GetZaxis()->SetLabelFont(42);
   data->GetZaxis()->SetLabelSize(0.035);
   data->GetZaxis()->SetTitleSize(0.035);
   data->GetZaxis()->SetTitleFont(42);
   data->Draw("ESAME");
   double chi2 = 0;
   for(int i =0; i<10; i++){
		double s = pow(data->GetBinContent(i+1)-forBand->GetBinContent(i+1),2); 
		double p = pow(data->GetBinError(i+1),2) + pow(Default_allWcosTheta->GetBinError(i+1),2);
		chi2 += (s/p);
	}
	cout<<chi2<<endl;
   c1->Modified();
   c1->cd();
   c1->SetSelected(c1);
}
